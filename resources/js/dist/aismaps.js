// resources/js/aismaps.js
function leafletAISMaps() {
  let markerClusterEnabled = false;
  let markers;
  let map;
  return {
    init: async function() {
      map = L.map(this.$refs.map.id).setView(
        [-1.5499571228201094, 117.89427962462793],
        5.4
      );
      const tiles = L.tileLayer.provider("OpenStreetMap.Mapnik").addTo(map);
      const baseLayers = {
        OpenStreetMap: tiles,
        "Google Maps": L.tileLayer(
          "https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}",
          {
            attribution: "Google Maps"
          }
        )
      };
      var ts = new L.aisTrackSymbol({});
      ts.addData({
        msgId: 4,
        mmsi: 24422002,
        name: "demo",
        utcYear: 2016,
        utcMon: 11,
        utcDay: 14,
        utcHour: 13,
        utcMin: 40,
        utcSec: 30,
        posAcc: 1,
        longitude: 8.155278333333333,
        latitude: 54.185555,
        devType: 7,
        raim: 0,
        comstate: { syncState: 0, slotTimeout: 2, slotNr: 1150 },
        timestamp: 1479130830744
      });
      ts.addTo(map);
      try {
        const response = await axios.get(
          "https://ksop.cakrawala.id/api/aisdataunique"
        );
        const aisData = response.data.message;
        markers = createMarkers(aisData, markerClusterEnabled);
        map.addLayer(markers);
      } catch (error) {
        console.error("Error fetching AIS data:", error);
      }
      map.on("load", function() {
      });
      map.pm.setGlobalOptions({ optIn: false });
      map.pm.addControls({
        position: "topleft",
        drawMarker: false
        // Disable drawing markers (use your cluster markers instead)
      });
      L.control.locate().addTo(map);
      L.terminator().addTo(map);
      setInterval(function() {
        terminator.setTime();
      }, 6e4);
      const sidebar = L.control.sidebar({
        autopan: false,
        closeButton: true,
        container: "sidebar",
        position: "left"
      }).addTo(map);
      sidebar.addPanel({
        id: "Content",
        tab: '<i class="fa fa-info"></i>',
        pane: `
                       <button id="toggleMarkerCluster">Toggle Marker Cluster</button>`,
        title: "Sidebar",
        position: "top"
      });
      L.control.layers(baseLayers).addTo(map);
      document.getElementById("toggleMarkerCluster").addEventListener("click", async function() {
        markerClusterEnabled = !markerClusterEnabled;
        map.removeLayer(markers);
        try {
          const response = await axios.get(
            "https://ksop.cakrawala.id/api/aisdataunique"
          );
          const aisData = response.data.message;
          markers = createMarkers(aisData, markerClusterEnabled);
          map.addLayer(markers);
        } catch (error) {
          console.error("Error fetching AIS data:", error);
        }
      });
    }
  };
}
function createMarkers(data, markerClusterEnabled) {
  const newMarkers = markerClusterEnabled ? L.markerClusterGroup() : L.featureGroup();
  data.forEach((aisItem) => {
    const marker = L.marker([
      aisItem.latitude,
      aisItem.longitude
    ]).bindPopup(`AIS Data: ${JSON.stringify(aisItem)}`);
    if (aisItem.is_inside_geofence === 1) {
      const pulsingIcon = L.icon.pulse({
        iconSize: [10, 10],
        color: "red",
        fillColor: "red",
        animate: true,
        pulseColor: "red"
      });
      marker.setIcon(pulsingIcon);
    }
    newMarkers.addLayer(marker);
  });
  return newMarkers;
}
export {
  leafletAISMaps as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vYWlzbWFwcy5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGVhZmxldEFJU01hcHMoKSB7XG4gICAgbGV0IG1hcmtlckNsdXN0ZXJFbmFibGVkID0gZmFsc2U7XG4gICAgbGV0IG1hcmtlcnM7XG4gICAgbGV0IG1hcDtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtYXAgPSBMLm1hcCh0aGlzLiRyZWZzLm1hcC5pZCkuc2V0VmlldyhcbiAgICAgICAgICAgICAgICBbLTEuNTQ5OTU3MTIyODIwMTA5NCwgMTE3Ljg5NDI3OTYyNDYyNzkzXSxcbiAgICAgICAgICAgICAgICA1LjRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gTC50aWxlTGF5ZXJcbiAgICAgICAgICAgICAgICAucHJvdmlkZXIoXCJPcGVuU3RyZWV0TWFwLk1hcG5pa1wiKVxuICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBiYXNlIGxheWVycyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGJhc2VMYXllcnMgPSB7XG4gICAgICAgICAgICAgICAgT3BlblN0cmVldE1hcDogdGlsZXMsXG4gICAgICAgICAgICAgICAgXCJHb29nbGUgTWFwc1wiOiBMLnRpbGVMYXllcihcbiAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL210MS5nb29nbGUuY29tL3Z0L2x5cnM9ciZ4PXt4fSZ5PXt5fSZ6PXt6fVwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogXCJHb29nbGUgTWFwc1wiLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB0cyA9IG5ldyBMLmFpc1RyYWNrU3ltYm9sKHt9KTtcblxuICAgICAgICAgICAgdHMuYWRkRGF0YSh7XG4gICAgICAgICAgICAgICAgbXNnSWQ6IDQsXG4gICAgICAgICAgICAgICAgbW1zaTogMjQ0MjIwMDIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkZW1vXCIsXG4gICAgICAgICAgICAgICAgdXRjWWVhcjogMjAxNixcbiAgICAgICAgICAgICAgICB1dGNNb246IDExLFxuICAgICAgICAgICAgICAgIHV0Y0RheTogMTQsXG4gICAgICAgICAgICAgICAgdXRjSG91cjogMTMsXG4gICAgICAgICAgICAgICAgdXRjTWluOiA0MCxcbiAgICAgICAgICAgICAgICB1dGNTZWM6IDMwLFxuICAgICAgICAgICAgICAgIHBvc0FjYzogMSxcbiAgICAgICAgICAgICAgICBsb25naXR1ZGU6IDguMTU1Mjc4MzMzMzMzMzMzLFxuICAgICAgICAgICAgICAgIGxhdGl0dWRlOiA1NC4xODU1NTUsXG4gICAgICAgICAgICAgICAgZGV2VHlwZTogNyxcbiAgICAgICAgICAgICAgICByYWltOiAwLFxuICAgICAgICAgICAgICAgIGNvbXN0YXRlOiB7IHN5bmNTdGF0ZTogMCwgc2xvdFRpbWVvdXQ6IDIsIHNsb3ROcjogMTE1MCB9LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMTQ3OTEzMDgzMDc0NCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHMuYWRkVG8obWFwKTtcblxuICAgICAgICAgICAgLy8gRmV0Y2ggQUlTIGRhdGEgZnJvbSB0aGUgQVBJIGFuZCBjcmVhdGUgbWFya2Vyc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL2tzb3AuY2FrcmF3YWxhLmlkL2FwaS9haXNkYXRhdW5pcXVlXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFpc0RhdGEgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbWFya2VycyBvciBtYXJrZXIgY2x1c3RlciBiYXNlZCBvbiB0aGUgaW5pdGlhbCBkYXRhXG4gICAgICAgICAgICAgICAgbWFya2VycyA9IGNyZWF0ZU1hcmtlcnMoYWlzRGF0YSwgbWFya2VyQ2x1c3RlckVuYWJsZWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBtYXJrZXJzIG9yIG1hcmtlciBjbHVzdGVyIHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBBSVMgZGF0YTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXAub24oXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHt9KTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlIExlYWZsZXQtR2VvbWFuIG9uIHRoZSBtYXBcbiAgICAgICAgICAgIG1hcC5wbS5zZXRHbG9iYWxPcHRpb25zKHsgb3B0SW46IGZhbHNlIH0pOyAvLyBTZXQgdG8gZmFsc2UgdG8gZW5hYmxlIGJ5IGRlZmF1bHRcblxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIExlYWZsZXQtR2VvbWFuIHRvb2xiYXJcbiAgICAgICAgICAgIG1hcC5wbS5hZGRDb250cm9scyh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwidG9wbGVmdFwiLFxuICAgICAgICAgICAgICAgIGRyYXdNYXJrZXI6IGZhbHNlLCAvLyBEaXNhYmxlIGRyYXdpbmcgbWFya2VycyAodXNlIHlvdXIgY2x1c3RlciBtYXJrZXJzIGluc3RlYWQpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgTC5jb250cm9sLmxvY2F0ZSgpLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgICAgIEwudGVybWluYXRvcigpLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hdG9yLnNldFRpbWUoKTtcbiAgICAgICAgICAgIH0sIDYwMDAwKTsgLy8gRXZlcnkgbWludXRlXG5cbiAgICAgICAgICAgIC8vIEFkZCBMZWFmbGV0IFNpZGViYXJcbiAgICAgICAgICAgIGNvbnN0IHNpZGViYXIgPSBMLmNvbnRyb2xcbiAgICAgICAgICAgICAgICAuc2lkZWJhcih7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9wYW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBcInNpZGViYXJcIixcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBhIHBhbmVsIHRvIHRoZSBzaWRlYmFyXG4gICAgICAgICAgICBzaWRlYmFyLmFkZFBhbmVsKHtcbiAgICAgICAgICAgICAgICBpZDogXCJDb250ZW50XCIsXG4gICAgICAgICAgICAgICAgdGFiOiAnPGkgY2xhc3M9XCJmYSBmYS1pbmZvXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgcGFuZTogYFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwidG9nZ2xlTWFya2VyQ2x1c3RlclwiPlRvZ2dsZSBNYXJrZXIgQ2x1c3RlcjwvYnV0dG9uPmAsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU2lkZWJhclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxheWVyIGNvbnRyb2wgYW5kIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgICAgICAgICBMLmNvbnRyb2wubGF5ZXJzKGJhc2VMYXllcnMpLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgICAgIC8vIEV2ZW50IGhhbmRsZXIgZm9yIHRoZSBidXR0b24gdG8gdG9nZ2xlIE1hcmtlciBDbHVzdGVyXG4gICAgICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZU1hcmtlckNsdXN0ZXJcIilcbiAgICAgICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ2x1c3RlckVuYWJsZWQgPSAhbWFya2VyQ2x1c3RlckVuYWJsZWQ7IC8vIFRvZ2dsZSB0aGUgc3RhdGVcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgbWFya2VycyBvciBtYXJrZXIgY2x1c3RlclxuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobWFya2Vycyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmV0Y2ggQUlTIGRhdGEgZnJvbSB0aGUgQVBJXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImh0dHBzOi8va3NvcC5jYWtyYXdhbGEuaWQvYXBpL2Fpc2RhdGF1bmlxdWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFpc0RhdGEgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlY3JlYXRlIG1hcmtlcnMgb3IgbWFya2VyIGNsdXN0ZXIgYmFzZWQgb24gdGhlIG5ldyBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzID0gY3JlYXRlTWFya2VycyhhaXNEYXRhLCBtYXJrZXJDbHVzdGVyRW5hYmxlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgbWFya2VycyBvciBtYXJrZXIgY2x1c3RlciB0byB0aGUgbWFwXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgQUlTIGRhdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBtYXJrZXJzIG9yIG1hcmtlciBjbHVzdGVyIGJhc2VkIG9uIHRoZSBkYXRhIGFuZCBtYXJrZXJDbHVzdGVyRW5hYmxlZFxuZnVuY3Rpb24gY3JlYXRlTWFya2VycyhkYXRhLCBtYXJrZXJDbHVzdGVyRW5hYmxlZCkge1xuICAgIGNvbnN0IG5ld01hcmtlcnMgPSBtYXJrZXJDbHVzdGVyRW5hYmxlZFxuICAgICAgICA/IEwubWFya2VyQ2x1c3Rlckdyb3VwKClcbiAgICAgICAgOiBMLmZlYXR1cmVHcm91cCgpO1xuXG4gICAgZGF0YS5mb3JFYWNoKChhaXNJdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IEwubWFya2VyKFtcbiAgICAgICAgICAgIGFpc0l0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICBhaXNJdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgXSkuYmluZFBvcHVwKGBBSVMgRGF0YTogJHtKU09OLnN0cmluZ2lmeShhaXNJdGVtKX1gKTtcblxuICAgICAgICAvLyBjb25zdCBwMSA9IFsrYWlzSXRlbS5sYXRpdHVkZSB8fCAwLCArYWlzSXRlbS5sb25naXR1ZGUgfHwgMF07XG4gICAgICAgIC8vIGNvbnN0IHRydWVIZWFkaW5nMSA9IGFpc0l0ZW0uaGVhZGluZyB8fCAwO1xuICAgICAgICAvLyBjb25zdCBjb2cxID0gYWlzSXRlbS5jb3Vyc2UgfHwgMDtcbiAgICAgICAgLy8gY29uc3Qgc29nMSA9ICthaXNJdGVtLnNwZWVkIHx8IDA7XG5cbiAgICAgICAgLy8gLy8gQ3JlYXRpbmcgdGhlIFBvc2l0aW9uUmVwb3J0XG4gICAgICAgIC8vIGxldCBwb3NpdGlvblJlcG9ydDEgPSB7XG4gICAgICAgIC8vICAgICBsYXRpdHVkZTogcDFbMF0sXG4gICAgICAgIC8vICAgICBsb25naXR1ZGU6IHAxWzFdLFxuICAgICAgICAvLyAgICAgdHJ1ZUhlYWRpbmc6IHRydWVIZWFkaW5nMSxcbiAgICAgICAgLy8gICAgIGNvZzogY29nMSxcbiAgICAgICAgLy8gICAgIHNvZzogc29nMSxcbiAgICAgICAgLy8gfTtcblxuICAgICAgICAvLyBjb25zdCBhaXNUcmFja1N5bWJvbCA9IG5ldyBMLmFpc1RyYWNrU3ltYm9sKHBvc2l0aW9uUmVwb3J0MSwge1xuICAgICAgICAvLyAgICAgc2hpcFN0YXRpY0RhdGE6IHtcbiAgICAgICAgLy8gICAgICAgICB1c2VySWQ6IGFpc0l0ZW0udmVzc2VsLmlkIHx8IDAsXG4gICAgICAgIC8vICAgICAgICAgaW1vTnVtYmVyOiBhaXNJdGVtLnZlc3NlbC5pbW8gfHwgMCxcbiAgICAgICAgLy8gICAgICAgICBjYWxsU2lnbjogYWlzSXRlbS52ZXNzZWwuY2FsbHNpZ24gfHwgXCJcIixcbiAgICAgICAgLy8gICAgICAgICBuYW1lOiBhaXNJdGVtLnZlc3NlbC52ZXNzZWxfbmFtZSB8fCBcIlwiLFxuICAgICAgICAvLyAgICAgICAgIHR5cGU6IGFpc0l0ZW0udmVzc2VsLnR5cGVfbnVtYmVyIHx8IDAsXG4gICAgICAgIC8vICAgICAgICAgZGltZW5zaW9uOiB7XG4gICAgICAgIC8vICAgICAgICAgICAgIEE6IGFpc0l0ZW0udmVzc2VsLmRpbWVuc2lvbl90b19ib3cgfHwgMCxcbiAgICAgICAgLy8gICAgICAgICAgICAgQjogYWlzSXRlbS52ZXNzZWwuZGltZW5zaW9uX3RvX3N0ZXJuIHx8IDAsXG4gICAgICAgIC8vICAgICAgICAgICAgIEM6IGFpc0l0ZW0udmVzc2VsLmRpbWVuc2lvbl90b19wb3J0IHx8IDAsXG4gICAgICAgIC8vICAgICAgICAgICAgIEQ6IGFpc0l0ZW0udmVzc2VsLmRpbWVuc2lvbl90b19zdGFyYm9hcmQgfHwgMCxcbiAgICAgICAgLy8gICAgICAgICB9LFxuICAgICAgICAvLyAgICAgICAgIGZpeFR5cGU6IGFpc0l0ZW0udmVzc2VsLm91dF9vZl9yYW5nZSB8fCAwLFxuICAgICAgICAvLyAgICAgICAgIGV0YToge1xuICAgICAgICAvLyAgICAgICAgICAgICBtb250aDogYWlzSXRlbS52ZXNzZWwucmVwb3J0ZWRfZXRhXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGFpc0l0ZW0udmVzc2VsLnJlcG9ydGVkX2V0YSkuZ2V0TW9udGgoKSArIDFcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgLy8gICAgICAgICAgICAgZGF5OiBhaXNJdGVtLnZlc3NlbC5yZXBvcnRlZF9ldGFcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgID8gbmV3IERhdGUoYWlzSXRlbS52ZXNzZWwucmVwb3J0ZWRfZXRhKS5nZXREYXRlKClcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgLy8gICAgICAgICAgICAgaG91cjogYWlzSXRlbS52ZXNzZWwucmVwb3J0ZWRfZXRhXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGFpc0l0ZW0udmVzc2VsLnJlcG9ydGVkX2V0YSkuZ2V0SG91cnMoKVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAvLyAgICAgICAgICAgICBtaW51dGU6IGFpc0l0ZW0udmVzc2VsLnJlcG9ydGVkX2V0YVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShhaXNJdGVtLnZlc3NlbC5yZXBvcnRlZF9ldGEpLmdldE1pbnV0ZXMoKVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAvLyAgICAgICAgIH0sXG4gICAgICAgIC8vICAgICAgICAgZGVzdGluYXRpb246IGFpc0l0ZW0udmVzc2VsLnJlcG9ydGVkX2Rlc3RpbmF0aW9uIHx8IFwiXCIsXG4gICAgICAgIC8vICAgICAgICAgZHRlOiBhaXNJdGVtLnZlc3NlbC5kdGUgPT09IFwiMVwiLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIGFpc1RyYWNrU3ltYm9sLmJpbmRUb29sdGlwKGFpc0l0ZW0udmVzc2VsLnZlc3NlbF9uYW1lIHx8IFwiXCIpO1xuICAgICAgICAvLyBhaXNUcmFja1N5bWJvbC5hZGRUbyhtYXApO1xuXG4gICAgICAgIGlmIChhaXNJdGVtLmlzX2luc2lkZV9nZW9mZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgcHVsc2luZ0ljb24gPSBMLmljb24ucHVsc2Uoe1xuICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IFwicmVkXCIsXG4gICAgICAgICAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwdWxzZUNvbG9yOiBcInJlZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihwdWxzaW5nSWNvbik7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdNYXJrZXJzLmFkZExheWVyKG1hcmtlcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3TWFya2Vycztcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBZSxTQUFSLGlCQUFrQztB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
